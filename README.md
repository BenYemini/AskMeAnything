# **AskMeAnything**

This project is a Flask-based web application that leverages OpenAI's API to generate answers to user-submitted questions. It is containerized using Docker and uses PostgreSQL as the database. Database migrations are managed by Alembic, and unit tests are written using `pytest`.

## **Table of Contents**
- [About the Project](#about-the-project)
- [Technologies Used](#technologies-used)
- [Features](#features)
- [Setup Instructions](#setup-instructions)
- [Running the Application](#running-the-application)
- [Running Tests](#running-tests)
- [Database Migrations](#database-migrations)
- [File Structure](#file-structure)
- [License](#license)

---

## **About the Project**

**AskMeAnything** is a web-based API that allows users to ask questions and receive responses generated by OpenAI's `gpt-3.5-turbo` model. The application stores the history of questions and answers in a PostgreSQL database. It is designed to run in a containerized environment using Docker, ensuring consistent deployment and ease of setup.

---

## **Technologies Used**

- **Python 3.x**
- **Flask**: Web framework for Python
- **OpenAI API**: Generates responses based on user input
- **PostgreSQL**: Relational database for storing questions and answers
- **Alembic**: For database migrations
- **Docker & Docker Compose**: For containerization of the application and database
- **pytest**: For unit testing
- **SQLAlchemy**: ORM for interacting with the database
- **python-dotenv**: For managing environment variables

---

## **Features**

- Users can submit questions and receive answers generated by OpenAI.
- Stores all questions and answers in a PostgreSQL database.
- Containerized using Docker for easy setup and deployment.
- Fully tested using `pytest` with unit tests covering API functionality.
- Alembic-managed database migrations for schema management.

---

## **Setup Instructions**

### **Prerequisites**
Make sure you have the following installed:
- [Docker](https://docs.docker.com/get-docker/)
- [Docker Compose](https://docs.docker.com/compose/install/)
- [Python 3.x](https://www.python.org/downloads/) (optional for local development)

### **Clone the Repository**
```bash
git clone https://github.com/yourusername/AskMeAnything.git
cd AskMeAnything
```

### **Environment Variables**
Create a `.env` file with your specific configuration for the OPENAI_API_KEY and DATABASE_URL

### **Build and Start the Application**
```bash
docker-compose up --build
```
This will build the Flask app, set up the PostgreSQL database, and run everything in Docker containers.

The app will be accessible at [http://localhost:5001](http://localhost:5001).

## **Running the Application**

Once everything is set up and running, you can interact with the app by sending POST requests to the `/ask` endpoint:

### **POST /ask**

- **Request**:

  ```json
  {
      "question": "What is Flask?"
  }
  ```
  - **Response**:
  ```json
    {
    "question": "What is Flask?",
    "answer": "Flask is a web framework for Python."
    }
    ```
  
## **Running Tests**
Unit tests are written using pytest. To run the tests inside the Docker container, use the following command:
```bash
docker-compose exec web pytest
```
This will execute the tests in the test_app.py file.

## **Database Migrations**
Alembic is used for managing database migrations. If you make changes to the database schema, hereâ€™s how to manage migrations:

### **Create a New Migration Script:**
```bash
docker-compose exec web alembic revision --autogenerate -m "Describe your migration"
```
### **Apply Migrations:**
```bash
docker-compose exec web alembic upgrade head
```
### **Downgrade Migrations (if needed):**
```bash
docker-compose exec web alembic downgrade -1
```

## **Contributing**
If you'd like to contribute to this project, please feel free to open a pull request or issue on the GitHub repository.



